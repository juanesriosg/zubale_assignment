# Product Query Bot - Web Chat Interface

A simple, elegant web interface to test the enhanced RAG chat system with conversation history.

## Quick Start

1. **Start the server:**

   ```bash
   python -m uvicorn app.main:app --host 127.0.0.1 --port 8001
   ```

2. **Open the web app:**

   ```
   http://localhost:8001/
   ```

## Features

### **Chat Interface**

- Real-time chat with the AI assistant
- Conversation history maintained per user
- Follow-up question detection with visual badges
- Typing indicators and loading states

### **User Management**

- Customizable User ID (default: "user123")
- Per-user conversation history
- Clear history functionality

### **Visual Design**

- Modern, responsive design
- Message bubbles with user/bot distinction
- Timestamps and metadata display
- Follow-up question badges
- Document count indicators

## **Testing Scenarios**

### **Basic Product Queries:**

```
"I need a smartphone for photography"
"Show me gaming laptops under $2000"
"What headphones have the best noise cancellation?"
```

### **Follow-up Questions:**

```
Initial: "I'm looking for a good laptop"
Follow-up: "What about battery life?"
Follow-up: "How much do they cost?"
```

### **Comparisons:**

```
"Compare iPhone 15 Pro Max vs Samsung Galaxy S24 Ultra"
"What's the difference between MacBook Air and Dell XPS?"
```

## **What to Watch For**

### **Enhanced Retrieval:**

- Multiple optimized search queries generated by LLM
- Context-aware search based on conversation history
- Intelligent query enhancement displayed in metadata

### **Conversation Context:**

- Follow-up questions detected and marked with green badge
- Previous conversation referenced in responses  
- Natural conversation flow maintained
- Document count showing retrieval efficiency

### **Response Quality:**

- Contextual responses that build on previous interactions
- Specific product details with prices and specifications
- Natural language explanations and comparisons

## **Interface Controls**

- **User ID Field**: Change to test different users
- **Clear History Button**: Reset conversation for current user
- **Message Input**: Type questions and press Enter
- **Send Button**: Submit query (disabled during processing)

## **Metadata Display**

Each message shows:

- **Timestamp**: When the message was sent
- **Follow-up Badge**: Green badge for detected follow-up questions  
- **Document Badge**: Number of documents used for retrieval
- **Typing Indicator**: Shows when AI is processing

## **Visual Elements**

- **User Messages**: Green bubbles on the right
- **Bot Messages**: White bubbles on the left with border
- **Avatars**: ðŸ‘¤ for user, ðŸ¤– for bot
- **Loading State**: Animated "Thinking..." indicator
- **Error Handling**: Red error messages for failed requests

The web app provides a complete testing environment for this enhanced chat system, showcasing all the advanced features like conversation history, intelligent query enhancement, and contextual responses!
